{
  "metadata": {
    "name": "Docker Test Suite Configuration",
    "version": "1.0.0",
    "description": "Comprehensive testing configuration for curl and Playwright in Docker environments",
    "author": "Claude Code Hive Mind",
    "created": "2025-08-30",
    "updated": "2025-08-30"
  },
  "environment": {
    "containerized": true,
    "hostAccess": "host.docker.internal",
    "networkMode": "bridge",
    "dnsResolution": ["host.docker.internal", "localhost", "127.0.0.1"],
    "expectedServices": {
      "webserver": {
        "host": "host.docker.internal",
        "port": 80,
        "protocol": "http"
      },
      "httpsServer": {
        "host": "host.docker.internal", 
        "port": 443,
        "protocol": "https"
      },
      "viteDevServer": {
        "host": "host.docker.internal",
        "port": 5173,
        "protocol": "http"
      },
      "nodeDevServer": {
        "host": "host.docker.internal",
        "port": 3000,
        "protocol": "http"
      }
    }
  },
  "curl": {
    "testCategories": [
      "basicHttp",
      "httpsWithCertificates", 
      "differentPorts",
      "postRequests",
      "headersAndAuth",
      "timeoutHandling",
      "environmentDetection",
      "urlRewriting",
      "performanceTests",
      "errorHandling"
    ],
    "timeouts": {
      "default": 10,
      "quick": 5,
      "extended": 30
    },
    "commonPorts": [80, 443, 3000, 5173, 8080, 8000, 4000, 9000],
    "testUrls": {
      "production": "https://www.brunnen.de",
      "development": "http://host.docker.internal",
      "testEndpoint": "https://httpbin.org"
    }
  },
  "playwright": {
    "testCategories": [
      "screenshotCapture",
      "browserAutomation",
      "viteIntegration", 
      "networkInterception",
      "errorRecovery",
      "multiViewport"
    ],
    "browsers": ["chromium", "firefox", "webkit"],
    "viewports": {
      "mobile": {"width": 375, "height": 667},
      "tablet": {"width": 768, "height": 1024},
      "desktop": {"width": 1920, "height": 1080}
    },
    "timeouts": {
      "navigation": 30000,
      "action": 10000,
      "screenshot": 5000
    },
    "viteInterception": {
      "enabled": true,
      "rewriteLocalhost": true,
      "blockHmr": true
    }
  },
  "validation": {
    "testCategories": [
      "environmentDetection",
      "urlRewriting",
      "portAvailability",
      "fallbackMechanisms",
      "errorMessaging",
      "integrationValidation"
    ],
    "environmentChecks": [
      "dockerEnvironment",
      "networkGateway",
      "hostDockerInternalResolution",
      "containerIdDetection"
    ],
    "urlRewritingRules": {
      "localhost": "host.docker.internal",
      "127.0.0.1": "host.docker.internal",
      "0.0.0.0": "host.docker.internal"
    },
    "fallbackHosts": ["host.docker.internal", "localhost", "127.0.0.1"],
    "criticalPorts": [80, 443]
  },
  "debugging": {
    "categories": [
      "networkConnectivity",
      "dnsResolution", 
      "portConflicts",
      "permissions",
      "securityRestrictions",
      "comprehensiveDiagnosis"
    ],
    "networkChecks": {
      "gateway": true,
      "dns": ["8.8.8.8", "1.1.1.1", "8.8.4.4"],
      "internet": ["google.com", "github.com", "httpbin.org"],
      "dockerHost": ["host.docker.internal"]
    },
    "diagnosticTools": [
      "ping", "nslookup", "curl", "ss", "netstat", "ip", "traceroute"
    ],
    "autoFix": {
      "enabled": true,
      "dnsReset": true,
      "networkInterfaceCheck": true,
      "portAccessibilityTest": true
    }
  },
  "reporting": {
    "formats": ["json", "csv", "markdown"],
    "includeTimestamps": true,
    "verboseLogging": false,
    "generateScreenshots": true,
    "saveDiagnostics": true,
    "resultsDirectory": "../results",
    "archiveResults": false
  },
  "performance": {
    "benchmarks": {
      "curlMaxTime": 3.0,
      "playwrightLoadTime": 5000,
      "dnsResolutionTime": 500,
      "screenshotGeneration": 10000
    },
    "thresholds": {
      "successRate": 95,
      "maxFailures": 2,
      "warningThreshold": 1
    }
  },
  "compatibility": {
    "dockerVersions": ["20.10+", "24.0+", "25.0+"],
    "nodeVersions": ["18+", "20+", "22+"],
    "playwrightVersions": ["1.40+", "1.50+", "1.55+"],
    "operatingSystems": ["linux", "alpine"],
    "architectures": ["amd64", "arm64"]
  },
  "integrations": {
    "ci": {
      "github": {
        "enabled": false,
        "configFile": ".github/workflows/docker-tests.yml"
      },
      "gitlab": {
        "enabled": false,
        "configFile": ".gitlab-ci.yml"
      }
    },
    "notifications": {
      "slack": {
        "enabled": false,
        "webhook": ""
      },
      "email": {
        "enabled": false,
        "recipients": []
      }
    }
  },
  "advanced": {
    "parallelExecution": false,
    "retryOnFailure": true,
    "maxRetries": 2,
    "cleanupAfterTests": true,
    "preserveArtifacts": true,
    "securityScanning": false,
    "performanceProfiling": false
  }
}